# AI 운동일지 — 리포트 구현 명세서

---

## 개요

트레이너가 '거칠게(Rough)' 입력한 데이터를 AI가 분석하여 '정교한(Premium)' 시각적 리포트로 변환.

- **Input**: 자연어 텍스트 (운동명, 무게, 횟수, 세트, 메모)
- **Output**: 구조화된 시각 리포트 (데이터 테이블 + AI 피드백)

---

## MVP 리포트 구성

### 1. 헤더

| 항목 | 내용 | 데이터 소스 |
|------|------|------------|
| 리포트 제목 | "{회원이름}님 오늘의 운동 리포트" | 입력값 |
| 오늘의 테마 | "하체 강화", "상체 집중" 등 | AI가 운동 종목 분석 후 자동 분류 |
| 날짜 | 2026년 2월 12일 | 입력값 (기본: 오늘) |
| 담당 코치 | "{코치이름} 코치" | 입력값 |
| 한 줄 총평 | "아주 훌륭했어요" 등 | AI 생성 |

### 2. 비주얼 영역

- **MVP**: 운동 부위 대체 이미지 (상체/하체/전신 등 카테고리별 기본 이미지)
- **추후**: 타겟 머슬맵 (인체 모델 SVG + 부위별 하이라이트)

### 3. 요약 지표

| 지표 | 설명 | 산출 방식 |
|------|------|----------|
| 총 볼륨 | 오늘 들어올린 전체 무게 합산 | 무게 × 횟수 × 세트 합계 |
| 총 세트 수 | 전체 세트 수 | 세트 합계 |
| 오늘의 Best | 최고 볼륨 종목 하이라이트 | AI가 종목별 볼륨 비교 후 선정 |

### 4. 운동 데이터 테이블

```
종목           무게      횟수     세트
스쿼트         80kg     8회      4세트
벤치프레스      60kg     10회     3세트
랫풀다운       50kg     12회     3세트
```

- 축약어 자동 인식: "벤치 60 10 3" → 벤치프레스 60kg 10회 3세트
- 비정형 입력 허용: 순서 무관, 단위 생략 가능

### 5. 코치의 한 마디 (필수)

트레이너의 러프한 메모를 AI가 **코치 맞춤 말투와 형태**로 다듬어 초안 제안.
트레이너가 확인/수정 후 최종 전달.

**핵심: 코치 커스터마이징**
- 초기 설정에서 코치의 말투 스타일 선택 (예: 격려형, 팩트형, 유머형)
- 코치가 자주 쓰는 표현/마무리 멘트 등록 가능
- AI가 코치 스타일에 맞게 초안 생성 → 코치가 수정 후 확정

**입력 예시 (트레이너 메모):**
```
스쿼트 마지막 세트 폼 흐트러짐, 오른쪽 어깨 약간 불편, 다음에 오버헤드 빼기
```

**출력 예시 (AI가 코치 스타일로 가공):**
```
코치의 한 마디
- 스쿼트 마지막 세트에서 폼이 다소 흐트러짐 → 다음 세션에서 집중 체크할게요
- 오른쪽 어깨 불편감이 있어서 다음 시간 오버헤드 프레스는 빼고 갈게요

다음 세션에서 어깨 상태 확인 후 상체 프로그램 조정하겠습니다.
오늘도 수고하셨습니다! 💪
```

- 코치와 회원이 같은 문서를 봄 (별도 버전 없음)
- AI 초안일 뿐, 코치가 최종 통제

### 6. 스포츠의학 피드백 (실험 — MVP 후 검증)

운동 데이터를 기반으로 AI가 스포츠의학 관점의 피드백을 자동 생성.
MVP에서는 실험적으로 포함하되, 유저 반응을 보고 유지/제거 결정.

**출력 예시:**
```
AI 분석
- 하체 볼륨이 상체 대비 2배 이상 → 균형 잡힌 프로그래밍 권장
- 스쿼트 4세트 고중량 후 런지 추가 시 슬개건 부담 주의
```

- "코치의 한 마디"와 시각적으로 구분 (별도 섹션/색상)
- 면책 문구 필수: "AI 참고 정보이며, 전문의 상담을 대체하지 않습니다"
- 코치가 이 섹션을 리포트에 포함/제외 선택 가능

### 7. 하단 액션바

| 버튼 | 기능 | MVP 구현 |
|------|------|---------|
| 수정 | 입력 폼으로 복귀 | 입력 화면 이동 |
| 복사 | 텍스트 복사 → 카톡 붙여넣기 | Clipboard API |
| 공유 | 시스템 공유창 (카톡/문자) | Web Share API (`navigator.share`) |

---

## 입력 설계

### 입력 필드

| 필드 | 타입 | 필수 | 비고 |
|------|------|------|------|
| 회원 이름 | text | O | |
| 날짜 | date | O | 기본값: 오늘 |
| 수업 내용 | textarea | O | 자연어 자유 입력 |

### 입력 원칙

1. **자유 입력** — 드롭다운/필드 채우기 없음. 자연어로 쏟아 붓기
2. **축약어 인식** — "벤치 60 10 3", "스쿼 80 8 4" 등
3. **비정형 데이터 수용** — 통증, 컨디션, 메모를 자연어 그대로
4. **형식 제한 없음** — 순서, 띄어쓰기, 단위 표기 자유

### 입력 예시

```
민수님 오늘 스쿼트 80kg 8회 4세트, 벤치프레스 60kg 10회 3세트,
랫풀다운 50kg 12회 3세트 했습니다.
마지막 스쿼트 세트 폼 좀 흐트러졌고, 오른쪽 어깨 약간 불편하다고 해서
다음에 오버헤드 프레스는 빼려고 합니다. 수면 부족으로 컨디션 안 좋았음.
```

---

## AI 설계

### 역할

AI는 **버튼 뒤에 숨어있는 엔진**. 사용자는 AI를 의식하지 않음.
ChatGPT 같은 채팅 인터페이스가 아님.

### 핵심 패턴

```
입력 (자유롭게) → AI 생성 (버튼 한 번) → 사람이 확인/수정 → 전달
```

### AI가 하는 일

1. 자연어에서 운동 데이터 추출 및 구조화
2. 축약어/비정형 표현 인식 및 정규화
3. 운동 부위 자동 분류 (테마 생성)
4. 총 볼륨/세트 수 계산
5. Best 종목 선정
6. 한 줄 총평 생성
7. **코치 맞춤 멘트 초안 생성** (코치 말투/스타일 반영)
8. *스포츠의학 피드백 생성 (실험)*

### AI 톤 가이드

- 전문적이면서 따뜻한 톤
- 코치와 회원 모두 읽을 수 있는 수준
- 과도한 이모지 자제, 핵심 포인트에만 사용

---

## UI/UX 가이드

### 디자인 원칙

- 기존 CoachMate 디자인 시스템 준수 (Apple-like 미니멀)
- Black & White 베이스, 강조색은 최소한으로
- 모바일 최적화 세로형 카드 레이아웃
- 충분한 여백, 라운드 코너, 가벼운 그림자

### 리포트 레이아웃 (위→아래)

```
┌─────────────────────────┐
│ 헤더 (테마 + 날짜 + 총평) │
├─────────────────────────┤
│ 비주얼 영역 (대체 이미지)  │
├─────────────────────────┤
│ 요약 지표 (볼륨/세트/Best)│
├─────────────────────────┤
│ 운동 데이터 테이블        │
├─────────────────────────┤
│ 코치의 한 마디 (필수)     │
├─────────────────────────┤
│ AI 분석 (실험/선택)       │
├─────────────────────────┤
│ 액션바 (수정/복사/공유)    │
└─────────────────────────┘
```

### 폰트

```css
font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', sans-serif;
```

---

## MVP 기술 아키텍처

| 구성 | 기술 |
|------|------|
| 프론트엔드 | HTML/CSS/JS (프레임워크 없음) |
| 백엔드 | Cloudflare Pages Functions |
| AI | Claude API (Anthropic) |
| 배포 | GitHub → Cloudflare Pages (자동) |
| 환경변수 | ANTHROPIC_API_KEY (Cloudflare 대시보드) |

---

## 사용자 시나리오 (MVP)

1. 트레이너가 홈 화면 바로가기 터치 → CoachMate 입력 화면
2. 회원 이름 + 자연어로 수업 내용 입력
3. [생성] 버튼 → AI가 리포트 생성
4. 트레이너가 내용 확인, 필요시 수정
5. [복사] 또는 [공유] → 카카오톡으로 회원에게 전달

---

## 확장 로드맵

### 1.5단계

| 기능 | 설명 |
|------|------|
| 타겟 머슬맵 | 대체 이미지 → 인체 SVG + 부위별 하이라이트 |
| 카톡 알림톡 | 복사/붙여넣기 → 알림톡 + 웹 링크 공유 |
| OG Tag 미리보기 | 카톡에 URL 공유 시 리포트 미리보기 표시 |
| 이미지 공유 | 리포트를 이미지로 변환하여 공유 |

### 2단계 — 운동일지 고도화

| 기능 | 설명 |
|------|------|
| 세션 비교 | 지난 세션 대비 볼륨 변화율 표시 |
| 신기록 배지 | 최고 중량/볼륨 갱신 시 자동 배지 |
| 운동 시간 추정 | 종목/세트 수 기반 소요 시간 추정 |
| 주간/월간 리포트 | 데이터 축적 기반 자동 리포트 |
| OCR 종이일지 스캔 | 종이 운동일지 촬영 → AI 자동 인식 → 구조화된 데이터로 변환 |
| 히스토리 마이그레이션 | 기존 기록(밴드/노션/구글시트/엑셀) import → CoachMate 형식으로 통합 |

### 3단계 — 플랫폼 확장

| 기능 | 설명 |
|------|------|
| 회원별 히스토리 | 성장 그래프, 무게/볼륨 변화 추적 |
| 회원용 앱 | 리포트 열람, 히스토리, 알림 — 올인원 경험 |
| 이탈 예측 | 출석 패턴 기반 리스크 알림 |
| 트레이너 대시보드 | 전체 회원 관리 뷰 |
| CRM 연동/자체 CRM | 기존 센터 CRM(온핏 등) 연동 또는 자체 회원관리 시스템 |

---

## 참고

- PRD.md: 제품 전체 로드맵 및 설계 원칙
- design.md: 디자인 시스템 (색상, 타이포, 레이아웃)
- 서비스 개요.md: 비전, 철학, 핵심 가치
